<ion-view title="Orders" id="page5" class=" " hide-back-button="true" ng-controller="ordersCtrl">
    <ion-nav-buttons side="right">
        <button class="button button-balanced" ng-click="selectTable()">
            <i class="icon ion-plus-round"></i>
        </button>
    </ion-nav-buttons>
    <ion-content padding="true" class="has-header">
        <div class="card" ng-show="noorders">
            <div class="item item-text-wrap" style="text-align: center;color: #666;">
                No orders to show.
            </div>
        </div>
        <div class="list card" ng-hide="noorders">
            <div class="item item-button-right reviewitem" ng-repeat="order in orders | filter: {status : '!printed'}" style="color: #666;">
                <div style="display: inline-flex; float: left;width: 100%;"  ng-click="showOrderDetail(order,$index +1)" >
                    <h2 style="position: absolute;top: 14px;font-size: 15px;color: #666;width: 100%">Order {{$index+1}}</h2>
                    <p style="position: absolute;top: 35px;font-size: 12px;color: #666;width: 100%">{{order.table.name}}&nbsp;<span style="font-weight:bold;color: #666;">{{order.status}}</span><span style="padding-left: 15px;color: #666;">{{order.ts | date:"hh:mm"}}</span></p>
                </div>
                <div class="button-bar" style="float: right;right: 0px;width:37%;">
                    <a class="button button-small button-outline button-calm icon ion-edit" ng-show="order.status != 'printed'  " ng-click="editOrder(order)" style="padding:0;margin-right: 5px;border-width: 1px;"></a>
                    <a class="button button-small button-outline button-balanced icon ion-printer" ng-click="updateStatus(order, 'printed')" style="padding: 0;margin-right: 5px;border-width: 1px;" "></a>
                    <a class="button button-small button-outline button-assertive icon ion-trash-a " ng-show="order.status !='printed' " ng-click="deleteOrder(order) " style="padding:0 "></a>
                </div>
            </div>
        </div>

        <script id="popup.html " type="text/ng-template ">
            <ion-modal-view>
                <ion-header-bar class="bar-stable bar bar-header">
                  <h1 class="title ">Order Details</h1>
                </ion-header-bar>
                <ion-content scroll="false" scrollbar-x="false" scrollbar-y="false">
                    <div class="list" style="margin-bottom: 0px;">
                        <p class="item item-divider">
                            Order#: {{orderid}}
                            <span class="badge badge-balanced">00:00</span>
                        </p>
                    </div>
                    <ion-scroll zooming="false" direction="y" style="height: 79%">
                        <div class="list">
                            <a class="item" href="#" ng-repeat="orderi in orderitems">
                              <h2>{{orderi.name}}</h2>
                              <p>x&nbsp;{{orderi.qty}}</p>
                              <span class="badge badge-light"> &#8377;&nbsp; {{orderi.price}}</span>
                            </a>
                        </div>
                    </ion-scroll>
                    <div class="list" style="margin-bottom: 0px;padding-bottom: 0px; font-size: 18px;">
                        <strong class="item item-divider">
                            Total
                            <span class="badge badge-stable"> &#8377;&nbsp; {{total}}</span>
                        </strong>
                    </div>
                    <button class="button button-full button-balanced" ng-click="closeModal()" style="margin: 0px;">OK</button>
                </ion-content>
            </ion-modal-view>
        </script>
    </ion-content>
</ion-view>
